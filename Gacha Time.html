<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gacha Time</title>
    <style>
        table {
            border-collapse: collapse;
            width: 500px;
            margin: 50px auto;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }
        .time-box {
            border: 1px solid black;
            padding: 10px;
            width: 150px;
            margin: 0 auto;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        .checkbox {
            cursor: pointer;
        }
    </style>
	<style>
        /* Style to make the image smaller */
        .small-img {
            width: 50px; /* Adjust the width as needed */
            height: auto; /* Maintain aspect ratio */
        }
    </style>
</head>
<body>
    <h1>Gacha Time</h1>
    <div class="time-box">
        Local Time: <span id="local-time"></span>
    </div>
    <table>
        <tr>
            <th>Image</th>
			<th>Time</th>
            <th>Reset Time</th>
            <th>Time Left to Reset</th>
            <th>ToDo List</th>
			<th>Image</th>
			<th>Time</th>
            <th>Reset Time</th>
            <th>Time Left to Reset</th>
            <th>ToDo List</th>
        </tr>
        <tr>
            <th><img src="BlueArchive.ico" alt="Blue Archive" class="small-img"></th>		
            <td>Blue Archive</td>
            <td>02:00</td>
            <td id="time-left-BlueArchive"></td>
            <td><input type="checkbox" class="checkbox" id="todo-1"></td>
			<th><img src="FGO.ico" alt="FGO" class="small-img"></th>
            <td>FGO</td>
            <td>11:00</td>
            <td id="time-left-FGO"></td>
			<td><input type="checkbox" class="checkbox" id="todo-5"></td>
        </tr>
		<tr>
            <th><img src="Nikke.ico" alt="Nikke" class="small-img"></th>
            <td>Nikke</td>
            <td>03:00</td>
            <td id="time-left-Nikke"></td>
			<td><input type="checkbox" class="checkbox" id="todo-2"></td>
			<th><img src="PGR.ico" alt="PGR" class="small-img"></th>
            <td>PGR</td>
            <td>14:00</td>
            <td id="time-left-PGR"></td>
			<td><input type="checkbox" class="checkbox" id="todo-6"></td>
        </tr>
		<tr>
		    <th><img src="SnowBreak.ico" alt="SnowBreak" class="small-img"></th>
            <td>SnowBreak</td>
            <td>03:00</td>
            <td id="time-left-SnowBreak"></td>
			<td><input type="checkbox" class="checkbox" id="todo-3"></td>
		    <th><img src="Arknight.ico" alt="Arknight" class="small-img"></th>
            <td>Arknight</td>
            <td>18:00</td>
            <td id="time-left-Arknight"></td>
			<td><input type="checkbox" class="checkbox" id="todo-7"></td>
        </tr>
		<tr>
		    <th><img src="CounterSide.ico" alt="CounterSide" class="small-img"></th>
            <td>CounterSide</td>
            <td>04:00</td>
            <td id="time-left-CounterSide"></td>
			<td><input type="checkbox" class="checkbox" id="todo-4"></td>
		    <th><img src="AetherGazer.ico" alt="Aether Gazer" class="small-img"></th>
            <td>Aether Gazer</td>
            <td>19:00</td>
            <td id="time-left-AetherGazer"></td>
			<td><input type="checkbox" class="checkbox" id="todo-8"></td>
        </tr>
    </table>

    <script>
        // Load saved checkbox states from cookies
        window.onload = function() {
            loadCheckboxStates();
        };

        // Save checkbox states to cookies
        window.onbeforeunload = function() {
            saveCheckboxStates();
        };

        function loadCheckboxStates() {
            var todo1Checked = localStorage.getItem('todo-1');
            if (todo1Checked) {
                document.getElementById('todo-1').checked = JSON.parse(todo1Checked);
            }
            var todo2Checked = localStorage.getItem('todo-2');
            if (todo2Checked) {
                document.getElementById('todo-2').checked = JSON.parse(todo2Checked);
            }
			var todo1Checked = localStorage.getItem('todo-3');
            if (todo1Checked) {
                document.getElementById('todo-3').checked = JSON.parse(todo1Checked);
            }
			var todo1Checked = localStorage.getItem('todo-4');
            if (todo1Checked) {
                document.getElementById('todo-4').checked = JSON.parse(todo1Checked);
            }
			var todo1Checked = localStorage.getItem('todo-5');
            if (todo1Checked) {
                document.getElementById('todo-5').checked = JSON.parse(todo1Checked);
            }
			var todo1Checked = localStorage.getItem('todo-6');
            if (todo1Checked) {
                document.getElementById('todo-6').checked = JSON.parse(todo1Checked);
            }
			var todo1Checked = localStorage.getItem('todo-7');
            if (todo1Checked) {
                document.getElementById('todo-7').checked = JSON.parse(todo1Checked);
            }
			var todo1Checked = localStorage.getItem('todo-8');
            if (todo1Checked) {
                document.getElementById('todo-8').checked = JSON.parse(todo1Checked);
            }
        }

        function saveCheckboxStates() {
            localStorage.setItem('todo-1', document.getElementById('todo-1').checked);
            localStorage.setItem('todo-2', document.getElementById('todo-2').checked);
			localStorage.setItem('todo-3', document.getElementById('todo-3').checked);
			localStorage.setItem('todo-4', document.getElementById('todo-4').checked);
			localStorage.setItem('todo-5', document.getElementById('todo-5').checked);
			localStorage.setItem('todo-6', document.getElementById('todo-6').checked);
			localStorage.setItem('todo-7', document.getElementById('todo-7').checked);
			localStorage.setItem('todo-8', document.getElementById('todo-8').checked);
        }

        function updateTime() {
            var now = new Date();
            var hours = now.getHours();
            var minutes = now.getMinutes();
            var seconds = now.getSeconds();
            var timeString = hours.toString().padStart(2, '0') + ":" + minutes.toString().padStart(2, '0') + ":" + seconds.toString().padStart(2, '0');
            document.getElementById("local-time").textContent = timeString;

            // For Blue Archive
            var resetTimeBlueArchive = new Date();
            resetTimeBlueArchive.setHours(2, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeBlueArchive < now) {
                resetTimeBlueArchive.setDate(resetTimeBlueArchive.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceBlueArchive = resetTimeBlueArchive.getTime() - now.getTime();
            setTimeLeft("time-left-BlueArchive", timeDifferenceBlueArchive);

			// For Nikke
            var resetTimeNikke = new Date();
            resetTimeNikke.setHours(3, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeNikke < now) {
                resetTimeNikke.setDate(resetTimeNikke.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceNikke = resetTimeNikke.getTime() - now.getTime();
            setTimeLeft("time-left-Nikke", timeDifferenceNikke);

			// For SnowBreak
            var resetTimeSnowBreak = new Date();
            resetTimeSnowBreak.setHours(3, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeSnowBreak < now) {
                resetTimeSnowBreak.setDate(resetTimeSnowBreak.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceSnowBreak = resetTimeSnowBreak.getTime() - now.getTime();
            setTimeLeft("time-left-SnowBreak", timeDifferenceSnowBreak);

			// For CounterSide
            var resetTimeCounterSide = new Date();
            resetTimeCounterSide.setHours(4, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeCounterSide < now) {
                resetTimeCounterSide.setDate(resetTimeCounterSide.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceCounterSide = resetTimeCounterSide.getTime() - now.getTime();
            setTimeLeft("time-left-CounterSide", timeDifferenceCounterSide);

			// For FGO
            var resetTimeFGO = new Date();
            resetTimeFGO.setHours(11, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeFGO < now) {
                resetTimeFGO.setDate(resetTimeFGO.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceFGO = resetTimeFGO.getTime() - now.getTime();
            setTimeLeft("time-left-FGO", timeDifferenceFGO);

			// For PGR
            var resetTimePGR = new Date();
            resetTimePGR.setHours(14, 0, 0, 0); // Set to 11:00 AM
            if (resetTimePGR < now) {
                resetTimePGR.setDate(resetTimePGR.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferencePGR = resetTimePGR.getTime() - now.getTime();
            setTimeLeft("time-left-PGR", timeDifferenceCounterSide);
			
			// For Arknight
            var resetTimeArknight = new Date();
            resetTimeArknight.setHours(18, 0, 0, 0); // Set to 11:00 AM
            if (resetTimeArknight < now) {
                resetTimeArknight.setDate(resetTimeArknight.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceArknight = resetTimeArknight.getTime() - now.getTime();
            setTimeLeft("time-left-Arknight", timeDifferenceArknight);

            // For Aether Gazer
            var resetTimeAetherGazer = new Date();
            resetTimeAetherGazer.setHours(19, 0, 0, 0); // Set to 7:00 PM
            if (resetTimeAetherGazer < now) {
                resetTimeAetherGazer.setDate(resetTimeAetherGazer.getDate() + 1); // If already past today's reset time, set to tomorrow
            }
            var timeDifferenceAetherGazer = resetTimeAetherGazer.getTime() - now.getTime();
            setTimeLeft("time-left-AetherGazer", timeDifferenceAetherGazer);
        }

        function setTimeLeft(elementId, timeDifference) {
            var hoursRemaining = Math.floor(timeDifference / (1000 * 60 * 60));
            timeDifference -= hoursRemaining * (1000 * 60 * 60);
            var minutesRemaining = Math.floor(timeDifference / (1000 * 60));
            timeDifference -= minutesRemaining * (1000 * 60);
            var secondsRemaining = Math.floor(timeDifference / 1000);

            var timeLeftString = hoursRemaining.toString().padStart(2, '0') + ":" + minutesRemaining.toString().padStart(2, '0') + ":" + secondsRemaining.toString().padStart(2, '0');
            document.getElementById(elementId).textContent = timeLeftString;
        }

        updateTime(); // Initial call to display time immediately
        setInterval(updateTime, 1000); // Update time every second
    </script>
</body>
</html>
